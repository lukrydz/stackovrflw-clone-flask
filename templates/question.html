{% extends 'base.html' %}
{% block body %}

    <div class="question">
        <div class="question_title">
            <h3>{{ question_data['title'] }}</h3>
        </div>
        <div>{{ question_data['submission_time'] }}</div>
        <div class="question_message">
            {{ question_data['message'] }}
        </div>
        <div class="question_edit_delete">
            <div class="edit">edit</div>
            <div class="delete">delete</div>
        </div>
        <div class="question_vote">
            <div>vote up</div>
            <div>vote down</div>
            <div></div>
            <div>{{ question_data['vote_number'] }}</div>
        </div>
    </div>

    <span><a href="{{ url_for('comment_question', question_id=question_data['id']) }}">
        <button>add comment</button>
    </a></span>


    <h3>Comments for question:</h3>


    {% for comment in comments_for_question %}
        <div class="comment">
            <div class="comment_title">
            </div>
            <div>{{ comment['submission_time'] }}</div>
            <div class="comment_message">
                {{ comment['message'] }}
            </div>
            <div class="comment_edit_delete">
                <div class="edit"><a href="{{ url_for('edit_comment', comment_id=comment['id']) }}">
                    <button>EDIT COMMENT</button>
                </a>
                </div>
                <div class="delete">
                    <a href="{{ url_for('delete_comment', comment_id=comment['id']) }}"
                       onclick="return confirm('Are you sure?')">
                        <img alt="" src="{{ url_for('static', filename="trash-solid.svg") }}" style="width: 15px"/>
                    </a></div>
            </div>
            <div class="comment_vote">
                <div>vote up</div>
                <div>vote down</div>
                <div></div>
                <div>0</div>
            </div>
        </div>
    {% endfor %}


    <span><a href="{{ url_for('add_answer', question_id=question_data['id']) }}">
        <button>add answer</button>
    </a></span>


    <h3>Answers:</h3>


    {% for answer in answers %}
        <div class="answer">
            <div class="answer_title"></div>
            <div>{{ answer['submission_time'] }}</div>
            <div class="answer_message">
                {{ answer['message'] }}
            </div>
            <div class="answer_edit_delete">
                <div class="edit"><a href="{{ url_for('edit_answer', answer_id=answer['id']) }}">
                    <button>Edit answer</button>
                </a></div>
                <div class="delete"><a href="{{ url_for('delete_answer', answer_id=answer['id']) }}">
                    <button onclick="return confirm('Are you sure?')">delete</button>
                </a></div>
            </div>
            <div class="answer_vote">
                <div><a href="{{ url_for('vote', answer_id=answer['id'], vote_up_or_down='vote_up') }}">
                    <button>vote up</button>
                </a></div>
                <div><a href="{{ url_for('vote', answer_id=answer['id'], vote_up_or_down='vote_down') }}">
                    <button>vote down</button>
                </a></div>
                <div></div>
                <div> {{ answer['vote_number'] }}</div>
            </div>

            {% for comment in comment_for_answers[answer['id']] %}
                {{ comment }}
                <a href="{{ url_for('edit_comment', comment_id=comment['id']) }}">EDIT COMMENT</a>
                <a href="{{ url_for('delete_comment', comment_id=comment['id']) }}"
                   onclick="return confirm('Are you sure?')">
                    <img alt="" src="{{ url_for('static', filename="trash-solid.svg") }}" style="width: 15px"/>
                </a>
            {% endfor %}
        </div>
    {% endfor %}

{% endblock %}